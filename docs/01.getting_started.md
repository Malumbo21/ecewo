# Getting Started

## Table Of Contents

1. [Requirements](#requirements)
2. [Quick Start](#quick-start)
    1. [Installation via Ecewo-CLI](#installation-via-ecewo-cli)
    2. [Manually Installation](#manually-installation)
    3. [Explaining main.c](#explaining-mainc)
    4. [Includes](#includes)

## Requirements

- A C compiler
- CMake version 3.14 or higher

## Quick Start

### Installation via [Ecewo-CLI](https://github.com/savashn/ecewo-cli)

Install [Ecewo-CLI](https://github.com/savashn/ecewo-cli) to your system and run the following command:

```
ecewo create
```

It will create a basic `Hello World` app.

### Manually Installation

Create an Ecewo project:

```cmake
// CMakeLists.txt

cmake_minimum_required(VERSION 3.14)
project(your_project VERSION 1.0.0 LANGUAGES C)

include(FetchContent)

# Fetch Ecewo from GitHub
FetchContent_Declare(
   ecewo
   GIT_REPOSITORY https://github.com/savashn/ecewo.git
   GIT_TAG main # alternatively, use a version tag like v2.0.0
)

# Make Ecewo available
FetchContent_MakeAvailable(ecewo)

# Create the executable
add_executable(server
   main.c
)

# Link Ecewo
target_link_libraries(server PRIVATE ecewo)
```

```c
// main.c

#include "ecewo.h"   // To use the main API
#include <stdio.h>

void hello_world(Req *req, Res *res)
{
    // send a plaint text response
    send_text(res, 200, "Hello, World!");
}

int main(void)
{
    if (server_init() != SERVER_OK)
    {
        fprintf(stderr, "Failed to initialize server\n");
        return 1;
    }

    // register the route
    get("/", hello_world);

    if (server_listen(3000) != SERVER_OK)
    {
        fprintf(stderr, "Failed to start server\n");
        return 1;
    }

    server_run();
    return 0;
}
```

### Explaining `main.c`

Let's explain this `main.c` file step by step:

Ecewo provides all its features in `ecewo.h`.

The `void hello_world()` function is a handler. We pass the `Req *req` parameter to reach the request, and pass the `Res *res` parameter to prepare the response. We send a plain text response using `send_text()`, and it frees the memory that allocated by the handler automatically. We'll see request handling more detailed in the [Request Handling](docs/request_handling.md) chapter.

The `int main(void)` function is the entry point of our program. We need to initialize and start the server in that function.

Let's run the following commands in the terminal to build our server:

```shell
mkdir build && cd build && cmake .. && cmake --build .
```

Let's run it:
```shell
// Linux/macOS:
./server

// Windows
./server.exe
```

Or, if you're using Ecewo CLI, run:

```c
ecewo build dev
ecewo run
```

When we ran the suitable command; weâ€™ll see following informations if our server is ready:

```
Server running on: http://localhost:3000
```

Now if we go to `http://localhost:3000/` we'll see a basic `Hello, World!` text message.
